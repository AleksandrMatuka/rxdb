"use strict";(self.webpackChunkrxdb=self.webpackChunkrxdb||[]).push([[2061],{5668:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>l});var t=s(4848),r=s(8453);const i={title:"Dexie.js RxStorage",slug:"rx-storage-dexie.html"},o="RxStorage Dexie.js",a={id:"rx-storage-dexie",title:"Dexie.js RxStorage",description:"To store the data inside of IndexedDB in the browser, you can also use the Dexie.js RxStorage.",source:"@site/docs/rx-storage-dexie.md",sourceDirName:".",slug:"/rx-storage-dexie.html",permalink:"/rx-storage-dexie.html",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"Dexie.js RxStorage",slug:"rx-storage-dexie.html"},sidebar:"tutorialSidebar",previous:{title:"Memory RxStorage",permalink:"/rx-storage-memory.html"},next:{title:"OPFS RxStorage \ud83d\udc51",permalink:"/rx-storage-opfs.html"}},d={},l=[{value:"Pros",id:"pros",level:2},{value:"Cons",id:"cons",level:2},{value:"Usage",id:"usage",level:2},{value:"Overwrite/Polyfill the native IndexedDB",id:"overwritepolyfill-the-native-indexeddb",level:2},{value:"Using addons",id:"using-addons",level:2},{value:"Disabling the non-premium console log",id:"disabling-the-non-premium-console-log",level:2}];function x(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"rxstorage-dexiejs",children:"RxStorage Dexie.js"}),"\n",(0,t.jsxs)(n.p,{children:["To store the data inside of IndexedDB in the browser, you can also use the ",(0,t.jsx)(n.a,{href:"https://github.com/dexie/Dexie.js",children:"Dexie.js"})," ",(0,t.jsx)(n.a,{href:"/rx-storage.html",children:"RxStorage"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["Dexie.js is a minimal wrapper around IndexedDB.\nFor the Dexie based ",(0,t.jsx)(n.code,{children:"RxStorage"}),", we use the ",(0,t.jsx)(n.a,{href:"https://github.com/kofrasa/mingo",children:"mingo"})," query handler."]}),"\n",(0,t.jsx)(n.h2,{id:"pros",children:"Pros"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Can use ",(0,t.jsx)(n.a,{href:"https://dexie.org/docs/Tutorial/Building-Addons",children:"Dexie.js addons"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"cons",children:"Cons"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Does not use a ",(0,t.jsx)(n.a,{href:"/slow-indexeddb.html#batched-cursor",children:"Batched Cursor"})," or ",(0,t.jsx)(n.a,{href:"/slow-indexeddb.html#custom-indexes",children:"custom indexes"})," which makes queries slower compared to the ",(0,t.jsx)(n.a,{href:"/rx-storage-indexeddb.html",children:"IndexedDB RxStorage"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { createRxDatabase } from 'rxdb';\nimport { getRxStorageDexie } from 'rxdb/plugins/storage-dexie';\n\nconst db = await createRxDatabase({\n    name: 'exampledb',\n    storage: getRxStorageDexie()\n});\n"})}),"\n",(0,t.jsx)(n.h2,{id:"overwritepolyfill-the-native-indexeddb",children:"Overwrite/Polyfill the native IndexedDB"}),"\n",(0,t.jsxs)(n.p,{children:["Node.js has no IndexedDB API. To still run the Dexie ",(0,t.jsx)(n.code,{children:"RxStorage"})," in Node.js, for example to run unit tests, you have to polyfill it.\nYou can do that by using the ",(0,t.jsx)(n.a,{href:"https://github.com/dumbmatter/fakeIndexedDB",children:"fake-indexeddb"})," module and pass it to the ",(0,t.jsx)(n.code,{children:"getRxStorageDexie()"})," function."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { createRxDatabase } from 'rxdb';\nimport { getRxStorageDexie } from 'rxdb/plugins/storage-dexie';\n\n//> npm install fake-indexeddb --save\nconst fakeIndexedDB = require('fake-indexeddb');\nconst fakeIDBKeyRange = require('fake-indexeddb/lib/FDBKeyRange');\n\nconst db = await createRxDatabase({\n    name: 'exampledb',\n    storage: getRxStorageDexie({\n        indexedDB: fakeIndexedDB,\n        IDBKeyRange: fakeIDBKeyRange\n    })\n});\n\n"})}),"\n",(0,t.jsx)(n.h2,{id:"using-addons",children:"Using addons"}),"\n",(0,t.jsxs)(n.p,{children:["Dexie.js has its own plugin system with ",(0,t.jsx)(n.a,{href:"https://dexie.org/docs/DerivedWork#known-addons",children:"many plugins"})," for encryption, replication or other use cases. With the Dexie.js ",(0,t.jsx)(n.code,{children:"RxStorage"})," you can use the same plugins by passing them to the ",(0,t.jsx)(n.code,{children:"getRxStorageDexie()"})," function."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const db = await createRxDatabase({\n    name: 'exampledb',\n    storage: getRxStorageDexie({\n        addons: [ /* Your Dexie.js plugins */ ]\n    })\n});\n"})}),"\n",(0,t.jsx)(n.h2,{id:"disabling-the-non-premium-console-log",children:"Disabling the non-premium console log"}),"\n",(0,t.jsxs)(n.p,{children:["We want to be transparent with our community, and you'll notice a console message when using the free Dexie.js based RxStorage implementation. This message serves to inform you about the availability of faster storage solutions within our ",(0,t.jsx)(n.a,{href:"/premium",children:"\ud83d\udc51 Premium Plugins"}),". We understand that this might be a minor inconvenience, and we sincerely apologize for that. However, maintaining and improving RxDB requires substantial resources, and our premium users help us ensure its sustainability. If you find value in RxDB and wish to remove this message, we encourage you to explore our premium storage options, which are optimized for professional use and production environments. Thank you for your understanding and support."]}),"\n",(0,t.jsxs)(n.p,{children:["If you already have premium access and want to use the Dexie.js ",(0,t.jsx)(n.a,{href:"/rx-storage.html",children:"RxStorage"})," without the log, you can call the ",(0,t.jsx)(n.code,{children:"setPremiumFlag()"})," function to disable the log."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"import { setPremiumFlag } from 'rxdb-premium/plugins/shared';\nsetPremiumFlag();\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(x,{...e})}):x(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>a});var t=s(6540);const r={},i=t.createContext(r);function o(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);